<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="a.b.c.com.mem.dao.SpringMemberDAO">

<insert id="memberInsert" parameterType="memberVO">

	INSERT INTO SPRING_MEMBER( 	 
								 MNUM      		<!--  1 -->
								,MNAME 			<!--  2 -->
								,MID 			<!--  3 -->
								,MPW 			<!--  4 -->
	                          	,MGENDER   		<!--  5 --> 
	                          	,MBIRTH 		<!--  6 -->
	                          	,MHP 			<!--  7 -->
	                          	,MTEL			<!--  8 -->
	                          	,MEMAIL   		<!--  9 -->
	                          	,MZONECODE  	<!--  10 -->
	                          	,MROADADDRESS 	<!--  11 -->
	                          	,MJIBUNADDRESS 	<!--  12 -->
	                          	,MHOBBY   		<!--  13 -->
	                          	,MINFO			<!--  14 -->
	                          	,MPHOTO			<!--  15 -->
	                          	,MADMIN 		<!--  16 -->
	                          	,DELETEYN		<!--  17 -->
	                          	,INSERTDATE	 	<!--  18 -->
	                          	,UPDATEDATE		<!--  19 -->
	                         ) 
	                  VALUES
	                  		( 	 
	                  			 #{mnum, jdbcType=VARCHAR} 				<!--  1 -->
	                  			,#{mname, jdbcType=VARCHAR} 			<!--  2 --> 
	                  			,#{mid, jdbcType=VARCHAR} 				<!--  3 -->
	                          	,#{mpw, jdbcType=VARCHAR}  				<!--  4 -->
	                          	,#{mgender, jdbcType=VARCHAR} 			<!--  5 -->
	                          	,#{mbirth, jdbcType=VARCHAR}  			<!--  6 -->
	                  			,#{mhp, jdbcType=VARCHAR} 				<!--  7 -->
	                          	,#{mtel, jdbcType=VARCHAR}  			<!--  8 -->
	                          	,#{memail, jdbcType=VARCHAR}  			<!--  9 -->
	                          	,#{mzonecode, jdbcType=VARCHAR} 		<!--  10 -->
	                          	,#{mroadaddress, jdbcType=VARCHAR}  	<!--  11 -->
	                  			,#{mjibunaddress, jdbcType=VARCHAR} 	<!--  12 -->
	                          	,#{mhobby, jdbcType=VARCHAR}  			<!--  13 -->
	                          	,#{minfo, jdbcType=VARCHAR}  			<!--  14 -->
	                          	,#{mphoto, jdbcType=VARCHAR} 			<!--  15 -->
	                          	,#{madmin, jdbcType=VARCHAR} 			<!--  16 -->
	                          	,'Y'  									<!--  17 -->
	                          	,SYSDATE  								<!--  18 -->
	                          	,SYSDATE 								<!--  19 -->
	                         ) 
</insert>

<select id="memberSelectAll" parameterType="memberVO" resultType="memberVO">	
	SELECT	 A.MNUM 			MNUM 
			,A.MNAME 			MNAME 
			,A.MID 				MID 
			,A.MPW 				MPW 
            ,A.MGENDER 			MGENDER    
            ,A.MBIRTH 			MBIRTH 
            ,A.MHP 				MHP 
            ,A.MTEL 			MTEL
            ,A.MEMAIL 			MEMAIL   
            ,A.MZONECODE 		MZONECODE  
            ,A.MROADADDRESS 	MROADADDRESS 
            ,A.MJIBUNADDRESS 	MJIBUNADDRESS 
            ,A.MHOBBY 			MHOBBY   
            ,A.MINFO 			MINFO
            ,A.MPHOTO 			MPHOTO
            ,A.MADMIN 			MADMIN 
            ,A.DELETEYN 		DELETEYN
            ,TO_CHAR(A.INSERTDATE, 'YYYY-MM-DD')  INSERTDATE 
            ,TO_CHAR(A.UPDATEDATE, 'YYYY-MM-DD')  UPDATEDATE     
	FROM 	SPRING_MEMBER A
	WHERE 	A.DELETEYN = 'Y' 	
	ORDER BY 1 DESC  
</select>

<select id="memberSelect" parameterType="memberVO" resultType="memberVO">
	SELECT	 A.MNUM 			MNUM 
			,A.MNAME 			MNAME 
			,A.MID 				MID 
			,A.MPW 				MPW
            ,A.MGENDER 			MGENDER    
            ,A.MBIRTH 			MBIRTH 
            ,A.MHP 				MHP 
            ,A.MTEL 			MTEL
            ,A.MEMAIL 			MEMAIL   
            ,A.MZONECODE 		MZONECODE  
            ,A.MROADADDRESS 	MROADADDRESS 
            ,A.MJIBUNADDRESS 	MJIBUNADDRESS 
            ,A.MHOBBY 			MHOBBY   
            ,A.MINFO 			MINFO
            ,A.MPHOTO 			MPHOTO
            ,A.MADMIN 			MADMIN 
            ,A.DELETEYN 		DELETEYN
            ,TO_CHAR(A.INSERTDATE, 'YYYY-MM-DD')  INSERTDATE 
           	,TO_CHAR(A.UPDATEDATE, 'YYYY-MM-DD')  UPDATEDATE     
	FROM 	SPRING_MEMBER A
	WHERE 	A.DELETEYN = 'Y' 
	AND 	A.MNUM = #{mnum, jdbcType=VARCHAR}
</select>

<update id="memberUpdate" parameterType="memberVO">
	UPDATE   SPRING_MEMBER 
	SET 	 MEMAIL 		= #{memail, jdbcType=VARCHAR}
			,MZONECODE  	= #{mzonecode, jdbcType=VARCHAR}
			,MROADADDRESS 	= #{mroadaddress, jdbcType=VARCHAR}
			,MJIBUNADDRESS 	= #{mjibunaddress, jdbcType=VARCHAR}
			,MHOBBY 		= #{mhobby, jdbcType=VARCHAR}
	       	,UPDATEDATE = SYSDATE
	WHERE 	DELETEYN = 'Y' 
	AND 	MNUM = #{mnum, jdbcType=VARCHAR}
</update>

<update id="memberDelete" parameterType="memberVO">
	UPDATE 	 SPRING_MEMBER 
	SET 	 DELETEYN = 'N'
			,UPDATEDATE = SYSDATE
	WHERE 	DELETEYN = 'Y' 
	AND 	MNUM = #{mnum, jdbcType=VARCHAR}
</update>


<select id="memberIdCheck" parameterType="memberVO" resultType="memberVO">
	SELECT 	A.MID MID
	FROM 	SPRING_MEMBER A 
	WHERE 	DELETEYN = 'Y'
	AND     A.MID = #{mid, jdbcType=VARCHAR}
</select>
</mapper>

